(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{198:function(t,e,n){t.exports=n(482)},203:function(t,e,n){},220:function(t,e){},229:function(t,e){},246:function(t,e){},248:function(t,e){},262:function(t,e){},263:function(t,e){},265:function(t,e){},266:function(t,e){},341:function(t,e){},343:function(t,e){},375:function(t,e){},377:function(t,e){},382:function(t,e){},384:function(t,e){},391:function(t,e){},392:function(t,e){},394:function(t,e){},406:function(t,e){},409:function(t,e){},414:function(t,e){},425:function(t,e){},428:function(t,e){},480:function(t,e,n){},482:function(t,e,n){"use strict";n.r(e);var a=n(11),o=n.n(a),i=n(194),c=n.n(i),s=(n(203),n(205),n(24)),l=n.n(s),r=n(197),u=n(195),p=n(3),m=n(8),d=n(7),f=n(5),y=n(9),b=n(35),h=n(102),k=n.n(h),v=(n(480),[{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"bool",name:"completed",type:"bool"}],name:"TaskCompleted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"string",name:"content",type:"string"},{indexed:!1,internalType:"bool",name:"completed",type:"bool"}],name:"TaskCreated",type:"event"},{constant:!0,inputs:[],name:"taskCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tasks",outputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"string",name:"content",type:"string"},{internalType:"bool",name:"completed",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"string",name:"_content",type:"string"}],name:"createTask",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_id",type:"uint256"}],name:"toggleCompleted",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}]),g=function(t){function e(){return Object(p.a)(this,e),Object(m.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(y.a)(e,t),Object(f.a)(e,[{key:"render",value:function(){var t=this;return o.a.createElement("div",{id:"content"},o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t.props.createTask(t.task.value)}},o.a.createElement("input",{id:"newTask",ref:function(e){t.task=e},type:"text",className:"form-control",placeholder:"Add task...",required:!0}),o.a.createElement("input",{type:"submit",hidden:!0})),o.a.createElement("ul",{id:"taskList",className:"list-unstyled"},this.props.tasks.map(function(e,n){return o.a.createElement("div",{className:"taskTemplate checkbox",key:n},o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",name:e.id,defaultChecked:e.completed,ref:function(e){t.checkbox=e},onClick:function(e){t.props.toggleCompleted(t.checkbox.name)}}),o.a.createElement("span",{className:"content"},e.content)))})),o.a.createElement("ul",{id:"completedTaskList",className:"list-unstyled"}))}}]),e}(a.Component),w=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(m.a)(this,Object(d.a)(e).call(this,t))).state={account:"",taskCount:0,tasks:[],loading:!0},n.createTask=n.createTask.bind(Object(b.a)(Object(b.a)(n))),n.toggleCompleted=n.toggleCompleted.bind(Object(b.a)(Object(b.a)(n))),n}return Object(y.a)(e,t),Object(f.a)(e,[{key:"componentWillMount",value:function(){this.loadBlockchainData()}},{key:"loadBlockchainData",value:function(){var t=Object(u.a)(l.a.mark(function t(){var e,n,a,o,i,c;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new k.a(k.a.givenProvider||"http://localhost:8545"),t.next=3,e.eth.getAccounts();case 3:return n=t.sent,this.setState({account:n[0]}),a=new e.eth.Contract(v,"0x835838a0e663F29BC5b31876a3189740e06a4D4E"),this.setState({todoList:a}),t.next=9,a.methods.taskCount().call();case 9:o=t.sent,this.setState({taskCount:o}),i=1;case 12:if(!(i<=o)){t.next=20;break}return t.next=15,a.methods.tasks(i).call();case 15:c=t.sent,this.setState({tasks:[].concat(Object(r.a)(this.state.tasks),[c])});case 17:i++,t.next=12;break;case 20:this.setState({loading:!1});case 21:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),Object(f.a)(e,[{key:"createTask",value:function(t){var e=this;this.setState({loading:!0}),this.state.todoList.methods.createTask(t).send({from:this.state.account}).once("receipt",function(t){e.setState({loading:!1})})}},{key:"toggleCompleted",value:function(t){var e=this;this.setState({loading:!0}),this.state.todoList.methods.toggleCompleted(t).send({from:this.state.account}).once("receipt",function(t){e.setState({loading:!1})})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("nav",{className:"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow"},o.a.createElement("a",{className:"navbar-brand col-sm-3 col-md-2 mr-0",href:"http://www.dappuniversity.com/free-download",target:"_blank"},"Dapp University | Todo List"),o.a.createElement("ul",{className:"navbar-nav px-3"},o.a.createElement("li",{className:"nav-item text-nowrap d-none d-sm-none d-sm-block"},o.a.createElement("small",null,o.a.createElement("a",{className:"nav-link",href:"#"},o.a.createElement("span",{id:"account"})))))),o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:"row"},o.a.createElement("main",{role:"main",className:"col-lg-12 d-flex justify-content-center"},this.state.loading?o.a.createElement("div",{id:"loader",className:"text-center"},o.a.createElement("p",{className:"text-center"},"Loading...")):o.a.createElement(g,{tasks:this.state.tasks,createTask:this.createTask,toggleCompleted:this.toggleCompleted})))))}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[198,2,1]]]);
//# sourceMappingURL=main.91053aff.chunk.js.map